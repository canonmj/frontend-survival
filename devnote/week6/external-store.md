# External Store

## Layered Architecture

Layered Architecture는 어느 하나의 프레임워크에 종속적인 개념이 아니라
소프트웨어 개발에서 일반적으로 흔히 사용되는 아키텍쳐의 개념이다.
Layered Architecture는 각 구성 요소들이 '관심사의 분리(Separation of Concerns)'를 달성하기 위해
'책임'을 가진 계층으로 분리한 아키텍쳐이다.

### 관심사의 분리를 하는 이유?

하나의 계층에 관심사가 여러개가 존재한다면 해당 계층의 응집도가 떨어지고 결합도가 높아진다.
각 계층들을 관심사 기준으로 분리함으로써 계층의 응집도를 높이고 결합도를 낮출 수 있다.
이를 통해 재사용성과 유지보수성을 높일 수 있다.

따라서, Layered Architecutre를 사용하면, 관심사의 분리를 통해 재사용성과 유지보수성을 높일 수 있다.

## Flux Architecture

페이스북이 자사 시스템을 구현하면서 기존의 MVC 아키텍쳐는 양방향 데이터흐름(Bi-directional data flow) 을 가지고 있기 때문에 기능을 추가하면 추가할 수록 그 복잡성이 기하급수적으로 증가함을 느꼈다고 한다.

페이스북이 사용하는 MVC구조에 대한 많은 논쟁이 있었는데, MVC 아키텍쳐를 정의하는데에 여러가지 의견들이 있고 페이스북이 Flux라는 아키텍쳐를 새로 개발한 이유는 그들이 유지하는 시스템의 복잡성 때문이라는 것이다. 이 점을 인지하고 Flux 아키텍쳐를 보도록 하자.

## Flux

양방향 데이터 흐름 때문에 복잡성이 생겼으므로 이를 단방향 데이터 흐름으로 만들어낸 아키텍쳐이다. 다음과 같은 구성원으로 이루어진다.

### 액션 생성자(Action creator)

액션이란 어떤 행위인지와 그 행위로부터 넘겨받은 값들을 가진 하나의 객체를 말한다. 따라서 어떤 액션인지를 가리키는 type 과 넘겨받은 값인 payload 를 가진다. 액션 생성자는 기존 상태를 변경하기 위한 액션의 생성을 담당하며 해당 액션을 생성해서 디스패쳐에 넘겨준다.

### 디스패쳐(Dispatcher)

디스패쳐는 모든 액션들을 받아서 의존성을 적절히 처리해준 다음 모든 스토어에게 넘긴다. 여기서 중요한 점은 모든 스토어가 모든 액션을 받는다는 것이다.

### 스토어(Store)

스토어는 모든 액션을 받아서 자신에게 적합한 액션이 어떤 건지 필터링한다. 이후 상태값을 변경하고 자신에게 연결된 컨트롤러 뷰에게 상태가 변화되었음을 알린다.
컨트롤러 뷰(Controller View)와 뷰(View)

여기서 컨트롤러 뷰는 전체적으로 화면에 나타는 자식 뷰들과 스토어를 연결하는 매개체이다. 자식 뷰들은 컨트롤러 뷰에게 변화된 상태를 받고 그 상태에 따라 다시 렌더링이 된다.

[Flux와 Redux에 대한 이해](https://baeharam.netlify.app/posts/architecture/flux-redux)
