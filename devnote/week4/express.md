# Express

## Express란?

[Express](http://expressjs.com/ko/)는 웹 및 모바일 애플리케이션을 위한 일련의 기능을 제공하는 Node.js 기반의 서버 프레임워크이다. 그렇다면 Node.js와 Express는 무슨 관계인가?

Node.js는 Chrome의 V8엔진을 이용하여 **javascript로 브라우저가 아니라 서버를 구축하고, 서버에서 JavaScript가 작동되도록 해주는 런타임 환경(플랫폼)**이다. Express는 이런 Nodejs의 원칙과 방법을 이용하여 웹애플리케이션을 만들기 위한 프레임워크이다.

### 왜 Express 를 사용해야 하지?

Express도 타 프레임워크처럼 웹 애플리케이션을 만들기 위한 각종 라이브러리와 미들웨어 등이 내장돼 있어 개발하기 편하고, 수많은 개발자들에게 개발 규칙을 강제하여 코드 및 구조의 통일성을 향상시킬 수 있다.

역사도 오래되었고 사실상 Nodejs의 표준 웹서버 프레임워크로 불려질 만큼 많은 곳에서 사용하고 있다.

하지만 Express 외에도 수 많은 Nodejs 웹서버 프레임워크가 존재한다. [여기](https://www.simform.com/blog/best-nodejs-frameworks/)를 가보면 대표적인 웹프레임워크들을 소개해두었는데, Express 개발팀에서 만든 Koa가 차세대 프레임워크가 될 것 같다고 한다. ([Koa 공식 웹사이트](https://koajs.com/)에서도 차세대 웹프레임워크라고 소개하고 있음.) 현재는 많은 교재와 강의 등에서 Express로 설명을 하고 있으므로, Express를 먼저 공부하고 반드시 Koa를 사용해보는 것이 좋을 것 같다.

## URL 구조

**URL**(*Uniform Resource Locator)*은 웹에서 주어진 고유한 리소스를 가리키는 주소이다.
리소스 즉, HTML 페이지, CSS 문서, 이미지 등을 말한다.

### URL 구조 상세

URL은 여러 부분으로 구성되며 일부는 필수, 일부는 선택 사항이다. 가장 중요한 부분은 아래 URL에 강조표시되어 있다.

![스크린샷 2023-08-10 오후 9.01.29.png](url-strucrue.png)

### Scheme

브라우저가 리소스를 요청하는 데 사용해야 하는 프로토콜을 나타낸다.

프로토콜은 컴퓨터 네트워크에서 데이터를 교환하거나 전송하기 위한 설정 방법이다.

일반적으로 웹사이트의 경우 프로토콜은 HTTPS 또는 HTTP(보안되지 않은 버전)을 쓴다.

### Authority

`://` 뒤에 붙으며 `:` 기준으로 왼쪽 domain, 오른쪽 port로 구분된다.

- 도메인은 요청하는 웹 서버를 나타낸다.
- 포트는 웹 서버의 리소스에 접근하는 데 사용되는 기술적 “게이트”이다. 리소스에 대한 액세스 권한을 부여하기 위해 HTTP 표준 포트 (HTTP 80 , HTTPS 443)는 일반적으로 생략한다.

### Path to resource

웹 서버에 있는 리소스의 경로이다.

웹 초기에는 이런 경로가 웹 서버의 실제 파일 위치를 나타내었었는데 요즘은 실제 경로를 사용하지 않고 추상적으로 처리한다.

### Parameters

매개변수. `&` code기호로 구분된 key/value 목록이다. 웹 서버는 리소스를 반환하기 전에 이러한 매개변수를 사용하여 추가 작업을 수행할 수 있다.

### Anchor

리소스의 특정 부분에 대한 앵커. 리소스 내에 “책갈피” 역할을 하며 브라우저에 해당 “책갈피” 지점의 콘텐츠를 표시하도록 한다.

예를 들어 HTML 문서에서 브라우저는 앵커가 정의된 지점으로 스크롤을 한다.

비디오 또는 오디오 문서에서 브라우저는 앵커가 나타내는 시간으로 이동하려고 시도한다.

## HTTP Method (CRUD)

HTTP 메서드란 클라이언트와 서버 사이에 이루어지는 요청(Request)과 응답(Response) 데이터를 전송하는 방식을 일컫는다. 쉽게 말하면 서버에 주어진 리소스에 수행하길 원하는 행동, **서버가 수행해야 할 동작을 지정**하는 요청을 보내는 방법이다.

자원은 item(단수) collection(복수)가 있다.

- GET(READ) : 자원을 요청할 때 사용한다. 멱등적(idempotent)인데 이는 요청을 계속 반복해도 같은 결과를 받을 수 있다는 뜻이다.

- POST(CREATE) : 자원을 서버 상에 생성할 때 사용한다. BODY 상에 만들고자 하는 자원을 같이 보내며, 멱등적이지 않다

- PUT,PATCH(UPDATE) : PUT은 자원 전체를 갱신하고, PATCH는 자원의 일부만 갱신한다. PATCH는 이후에 제시되었으며, 요즘은 PUT 보다는 PATCH가 더 많이 쓰인다.

- DELETE(DELETE) : 자원을 삭제한다. 근데 이렇게 자원을 요청만 보낸다고 다 지워버리는 것은 비가역적이기에 위험하니 안전성의 문제로 대부분 경우 비활성한다고 한다.

> DB에서의 경우 요청이 삭제일지라도 실제로 삭제를 하지는 않고 db table 상에서 delete flag를 true로 바꾸는 식으로 soft delete를 하여 문제가 생겼을 경우 복구를 하던지 할 수 있다.
